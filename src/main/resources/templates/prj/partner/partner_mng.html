<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{fragment/head_inc :: head_inc}"/>
    <title>메뉴관리</title>
</head>
<body>
<main id="main" class="main">
    <div class="pagetitle" style="display:flex;justify-content: space-between">
        <div>
            <h1>거래처</h1>
            <nav>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                    <li class="breadcrumb-item">거래처</li>
                </ol>
            </nav>
        </div>
        <div style="text-align: right;">
            <button type="button" class="btn btn-outline-primary" onclick="fnRegPartner('/partner/new');">신규</button>
        </div>
    </div><!-- End Page Title -->

    <section class="section">
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">거래처목록</h5>
                        <table class="table table-hover">
                            <thead>
                            <tr>
                                <th style="text-align:center;">No</th>
                                <th style="text-align:center;">거래처명</th>
                                <th style="text-align:center;">대표담당자</th>
                                <th style="text-align:center;">등록일시</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="partner, stat : ${partners}" th:onclick="|fnClickPartnerDetail('@{${partner.partnerIdx}}')|" style="cursor: pointer;">
                                <td style="text-align:center;" th:text="${stat.count}">-</td>
                                <td style="text-align:center;" th:text="${partner.partnerNm}">-</td>
                                <td style="text-align:center;" th:text="${partner.managers ne null ? '-' : partner.managers[0].managerMail}">-</td>
                                <td style="text-align:center;" th:text="${#temporals.format(partner.regDt, 'yyyy-MM-dd HH:mm:ss')}">-</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<script type="text/javascript">

    $(document).ready(function () {

    });

    function fnRegPartner(url) {
        window.parent.fnClickMenu(url);
    }

    function fnClickPartnerDetail(partnerIdx) {
        window.parent.fnClickMenu('/partner/' + partnerIdx);
    }

</script>

</body>
</html>